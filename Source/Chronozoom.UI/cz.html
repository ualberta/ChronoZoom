<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script type="text/javascript" id="constants"></script>
    <script type="text/javascript">
        (function () {
            var lastHashData = null;
            window.onhashchange = function () {
                var hashData = window.location.hash.split("@")[0];
                if (hashData !== lastHashData) {
                    lastHashData = hashData;
                }
            }
        })();
    </script>

    <link rel="stylesheet" type="text/css" href="./css/dino-cz.css" />

    <link href='./css/fonts.css' rel='stylesheet' type='text/css'>

    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    <script type="text/javascript" src="./scripts/external/jquery.slider.js"></script>

    <script type="text/javascript" src="./scripts/external/jquery.cookie.js"></script>
    <script type="text/javascript" src="./scripts/external/rx.js"></script>
    <script type="text/javascript" src="./scripts/external/rx.jQuery.js"></script>
    <script type="text/javascript" src="./scripts/external/mouseWheelPlugin.js"></script>
    <script type="text/javascript" src="./scripts/external/csvToArray.v2.1.js"></script>
    <script type="text/javascript" src="./scripts/external/ACS.js"></script>
    <script type="text/javascript" src="./scripts/external/seadragon-min.js"></script>

    <script type="text/javascript" src="./scripts/settings.js"></script>
    <script type="text/javascript" src="./scripts/common.js"></script>
    <script type="text/javascript" src="./scripts/viewport.js"></script>
    <script type="text/javascript" src="./scripts/viewport-animation.js"></script>
    <script type="text/javascript" src="./scripts/gestures.js"></script>
    <script type="text/javascript" src="./scripts/virtual-canvas.js"></script>
    <script type="text/javascript" src="./scripts/vccontent.js"></script>
    <script type="text/javascript" src="./scripts/viewport-controller.js"></script>
    <script type="text/javascript" src="./scripts/urlnav.js"></script>
    <script type="text/javascript" src="./scripts/layout.js"></script>
    <script type="text/javascript" src="./scripts/search.js"></script>
    <script type="text/javascript" src="./scripts/bibliography.js"></script>
    <script type="text/javascript" src="./scripts/breadcrumbs.js"></script>
    <script type="text/javascript" src="./scripts/service.js"></script>
    <script type="text/javascript" src="./scripts/data.js"></script>
    <script type="text/javascript" src="./scripts/timescale.js"></script>
    <script type="text/javascript" src="./scripts/dates.js"></script>
    
    <script type="text/javascript" src="./scripts/cz.js"></script>

    <script type="text/javascript">
        function AddScript(path) {
            var script = document.createElement("script");
            script.type = "text/javascript";
            script.src = path;
            document.getElementsByTagName("head")[0].appendChild(script);
        }

        if (Modernizr.canvas) {

        }
        else {
           window.location = "./fallback.html"
        }
    </script>

    <title>Dino 101 - Geological Timescale Viewer</title>
</head>
<body>
    <div id="content">
        

        <div id="vc-container" >
            <div id="vc">
                <div id="layerTimelines" onselectstart="return false;">
                </div>
                <!--for popup's-->
                <p class="bubbleInfo" style="display: inline-block; z-index: 3000;" id="defaultBox">
                    <span></span>
                </p>
                <!--//////////-->
                <div id="layerInfodots" onselectstart="return false;">
                </div>
                <div id="iframe_layer" onselectstart="return false;">
                </div>
            </div>
        </div>

        <section id="info-box" class="info-box-hidden">
          <header id="info-header">
            <h1 id="info-heading"></h1>
            <h2 id="info-date"></h2>
          </header>
          <div id="info-content">
            <div id="event-content"></div>
          </div>
          <div id="info-image-source"></div>
          <ul id="event-controls">
            <li id="event-previous">
              <a id="event-previous-link" href="#"><span class="event-icon event-previous-icon"></span>Previous</a>
            </li>
            <li id="event-timeline">
              <a id="event-timeline-link" href="#"><span class="event-icon event-tl-icon"></span><span id="event-timeline-label">Parent Timeline</span></a>
            </li>
            <li id="event-next">
              <a id="event-next-link" href="#">Next<span class="event-icon event-next-icon"></span></a>
            </li>
          </ul>
        </section>

    </div>
        <div id="axis">
        </div>
    <div id="footer">
        <div id="bottom-bar">
        <div class="breadcrumbs-nav fleft">
            <div id="breadcrumbs-nav-left">&#171;</div>
        </div>
        <div class="breadcrumbs-container fleft">
            <table id="breadcrumbs-table">
                <tr></tr>
            </table>
        </div>
        <div class="breadcrumbs-nav fleft">
            <div id="breadcrumbs-nav-right" class="">&#187;</div>
        </div>
        
        <ul id="controls">             
           <li class="control"><a id="timeline-btn" class="control-btn" href="#">Timelines</a></li>
        </ul>

        <div class="clearer"></div>
      </div>
      <nav id="navigation" class="hidden">
        <ul>
            <li class="about"><a class="time-link" id="00000000-0000-0000-0000-000000000000" href="#">History of Earth</a></li>
          <li class="about"><a class="time-link" id="c3f0ba48-f852-4683-9254-134017521ea" href="#">Hadean Eon</a></li>
          <li class="products"><a class="time-link" id="c3f0ba48-ed86-4683-9254-134017521ea" href="#">Archean Eon</a></li>
          <li class="blog"><a class="time-link" id="c3f0ba48-ed86-4683-8667-134017521ea" href="#">Proterozoic Eon</a></li>
          <li class="resources"><a class="time-link" id="096717fd-64db-4416-92a7-6d35c83777d5" href="#/t096717fd-64db-4416-92a7-6d35c83777d5">Phanerozoic Eon</a>
            <ul>
              <li><a class="time-link" id="1f793bf4-ed86-4683-8667-13f4190321ea" href="#">Paleozoic Era</a>
                <ul>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000001" href="#">Cambrian</a></li>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000002" href="#">Ordovician</a></li>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000003" href="#">Silurian</a></li>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000004" href="#">Devonian</a></li>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000005" href="#">Carboniferous</a></li>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000006" href="#">Permian</a></li>
                </ul>
              </li>
              <li><a class="time-link" id="4a4897e0-ce40-4fe2-be92-5e1000466f91" href="#">Mesozoic Era</a>
                <ul>
                  <li><a class="time-link" id="5f793bf4-ec86-4683-8667-10f4190321ea" href="#">Triassic</a></li>
                  <li><a class="time-link" id="e66246f6-647f-46ef-ac29-ab58b93b87ab" href="#">Jurassic</a></li>
                  <li><a class="time-link" id="31fc1030-5e28-4bb6-b8cb-ad0c81f444fa" href="#">Cretaceous</a></li>
                </ul>
              </li>
              <li><a class="time-link" id="1f793bf4-ed86-4683-8667-13f017521ea" href="#">Cenozoic Era</a>
                <ul>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000010" href="#">Paleogene</a></li>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000011" href="#">Neogene</a></li>
                  <li><a class="time-link" id="00000000-0000-0000-0000-000000000012" href="#">Quarternary</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
    <script type="text/javascript">
        $(document).ready(function() {
          $('#navigation').slider();
          
          $('html').bind('click',function(event) {
            $('#navigation, #ev-navigation').addClass('hidden');
            $('#timeline-btn, #events-btn').removeClass('active');
          });
          
          $('#timeline-btn').click(function(event) {
            $('#navigation').toggleClass('hidden');
            $('#ev-navigation').addClass('hidden');
            $('#events-btn').removeClass('active');
            $(this).toggleClass('active');
            event.stopPropagation();
          });
          
          $('#events-btn').click(function(event) {
            $('#ev-navigation').toggleClass('hidden');
            $('#navigation').addClass('hidden');
            $('#timeline-btn').removeClass('active');
            $(this).toggleClass('active');
            event.stopPropagation();
          });
          
          
          $('#navigation').find('a.time-link').click(function() {
            CZ.Search.goToSearchResult('t'+$(this).attr('id'));
          });
          $('#event-timeline-link').click(function() {
            console.log($(this).data('timelineId'));
            CZ.Search.goToSearchResult($(this).data('timelineId'));
          });
          $('#event-controls').find('a').click(function() {
            CZ.Search.goToEvent($(this).data('eventId'));
          });

/*
          $('#vc').on('mousemove', function(e) {
            var xPercent = (e.offsetX/$(this).width()*100);
            //var yPercent = (e.offsetY/$(this).width()*100);
            $(this).css('background-position', xPercent+'% 50%');
          });
*/
          var iOS = ( navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ? true : false );
          if(iOS) {
            $('body').on('touchstart','#info-content',function(e) {
              if (e.currentTarget.scrollTop === 0) {
                e.currentTarget.scrollTop = 1;
              } else if (e.currentTarget.scrollHeight === e.currentTarget.scrollTop + e.currentTarget.offsetHeight) {
                e.currentTarget.scrollTop -= 1;
              }
            });
            //prevents preventDefault from being called on document if it sees a scrollable div
            $('body').on('touchmove','#info-content',function(e) {
              e.stopPropagation();
            });
          }
        });
    </script>
</body>
</html>
